{"remainingRequest":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\src\\components\\profile\\LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\src\\components\\profile\\LoginPage.vue","mtime":1592437261330},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBSZWdpc3RlclBhZ2UgZnJvbSAnLi9SZWdpc3RlclBhZ2UudnVlJzsKaW1wb3J0IHtDU1JGX1RPS0VOfSBmcm9tICJAL2NvbW1vbi9jc3JmX3Rva2VuIjsKLy8gaW1wb3J0IHsgVXNlckJhc2UgfSBmcm9tICcuLi9EQVRBL3VzZXJkYXRhJzsKCgovLyBmdW5jdGlvbiBqYXNvblBhcnNhaXQoKSB7CiAgLy8gY29uc3Qgbm93eUphc29uVEFCTEUgPSBbCiAgLy8gICB7IENhcklEOiAxMjMgfSwKICAvLyAgIHsgQ2FySUQ6IDQ1NiB9LAogIC8vICAgeyBDYXJJRDogNzg5IH0sCiAgLy8gXTsKICAvLyBjb25zdCBub3d5SmFzb25UQUJMRXN0cmluZyA9IGBbCiAgLy8gICB7ICJDYXJJRCIgOiAxMjMgfSwKICAvLyAgIHsgIkNhcklEIiA6IDQ1NiB9LAogIC8vICAgeyAiQ2FySUQiIDogNzg5IH0KICAvLyBdYDsKICAvLyBabWlhbmEgbmEgY2nEhWcga3TDs3J5IHByemVzecWCYW15IHByemV6IHByemVnbMSFZGFya8SZCiAgLy8gY29uc3QgY2FySURzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeShub3d5SmFzb25UQUJMRSk7CiAgLy8gY29uc29sZS5sb2coY2FySURzdHJpbmdpZnkpOwogIC8vIGNvbnNvbGUubG9nKHR5cGVvZiAoY2FySURzdHJpbmdpZnkpKTsKICAvLyBabWlhbmEgbmEgbm9ybWFsbnkgamF2YSBzY3JpcHQKICAvLyBjb25zdCBjYXJJRGpzb24gPSBKU09OLnBhcnNlKG5vd3lKYXNvblRBQkxFc3RyaW5nKTsKICAvLyBjb25zb2xlLmxvZyhjYXJJRGpzb24pOwogIC8vIGNvbnNvbGUubG9nKHR5cGVvZiAoY2FySURqc29uKSk7Ci8vIH0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW5QYWdlJywKICBjb21wb25lbnRzOiB7IFJlZ2lzdGVyUGFnZSB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlck9ubGluZToge30sCiAgICAgIGxvZ2luczogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwKICAgICAgb25DbGljazogZmFsc2UsCiAgICAgIFVTRVJCOiBudWxsLAogICAgICBVc2VyQXJyYXk6IFtdLAoKICAgIH07CiAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5jaGVja0xvZ2luKCk7CiAgICAgIHRoaXMuZ2V0VXNlcnNCYXNlKCk7CgogICAgfSwKICBtZXRob2RzOiB7CiAgICAgIGNoZWNrTG9naW4oKXsKICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5pZkxvZ2luID09PSB0cnVlKQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4vcHJvZmlsZScpOwoKICAgICAgfSwKICAgIGdldFVzZXJzQmFzZSgpIHsKICAgICAgICBheGlvcy5nZXQoJy9hcGkvY2xpZW50LycsCiAgICAgICAgICB7CiAgICAgICAgICAgICAgaGVhZGVyczogeyJYLUNTUkZUT0tFTiI6IENTUkZfVE9LRU59CiAgICAgICAgICB9CiAgICAgICkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuVXNlckFycmF5ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgfSwKICAgIGxvZ2dpbmcoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4vcHJvZmlsZScpOwogICAgfSwKICAgICAgY2hlY2tVc2VyKCkgewoKICAgICAgICBmb3IoIGxldCBpID0gMDsgaSA8IHRoaXMuVXNlckFycmF5Lmxlbmd0aDsgaSArPSAxKXsKICAgICAgICAgICAgaWYgKHRoaXMubG9naW5zID09PSB0aGlzLlVzZXJBcnJheVtpXS5sb2dpbikgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09IHRoaXMuVXNlckFycmF5W2ldLmhhc2xvKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9naW46IHRoaXMuVXNlckFycmF5W2ldLmxvZ2luLAogICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5Vc2VyQXJyYXlbaV0ua2xpZW50X2lkLAogICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5Vc2VyQXJyYXlbaV0uZW1haWwsCiAgICAgICAgICAgICAgICAgICAgICAgIHB1bmt0eTogMCwKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIHVzZXIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2luZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"LoginPage.vue","sourceRoot":"src/components/profile","sourcesContent":["<template>\n  <v-container>\n    <v-row  style=\"text-align: center\">\n      <v-col>\n        <v-card style=\"text-align: center\" class=\"pa-6\">\n          <h1>Podaj dane:</h1>\n          <v-spacer></v-spacer>\n          <v-text-field\n            v-model=\"logins\"\n            label=\"Podaj login\"></v-text-field>\n          <v-text-field\n            v-model=\"password\"\n            :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n            :type=\"showPassword ? 'text' : 'password'\"\n            @click:append=\"showPassword = !showPassword\"\n            label=\"Podaj hasło\"></v-text-field>\n          <v-btn @click=\"checkUser\">ZALOGUJ</v-btn>\n        </v-card>\n      </v-col>\n      <v-col xs12 wrap>\n        <v-card  style=\"text-align: center\" class=\"pa-6\">\n          <h2>Nie masz konta?</h2>\n          <v-spacer></v-spacer>\n          <br/>\n          <v-btn @click=\"onClick = !onClick\">Zarejestruj sie</v-btn>\n        </v-card>\n        <template v-if=\"onClick===true\">\n          <br />\n          <register-page></register-page>\n        </template>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\nimport RegisterPage from './RegisterPage.vue';\nimport {CSRF_TOKEN} from \"@/common/csrf_token\";\n// import { UserBase } from '../DATA/userdata';\n\n\n// function jasonParsait() {\n  // const nowyJasonTABLE = [\n  //   { CarID: 123 },\n  //   { CarID: 456 },\n  //   { CarID: 789 },\n  // ];\n  // const nowyJasonTABLEstring = `[\n  //   { \"CarID\" : 123 },\n  //   { \"CarID\" : 456 },\n  //   { \"CarID\" : 789 }\n  // ]`;\n  // Zmiana na ciąg który przesyłamy przez przeglądarkę\n  // const carIDstringify = JSON.stringify(nowyJasonTABLE);\n  // console.log(carIDstringify);\n  // console.log(typeof (carIDstringify));\n  // Zmiana na normalny java script\n  // const carIDjson = JSON.parse(nowyJasonTABLEstring);\n  // console.log(carIDjson);\n  // console.log(typeof (carIDjson));\n// }\n\nexport default {\n  name: 'LoginPage',\n  components: { RegisterPage },\n\n  data() {\n    return {\n      userOnline: {},\n      logins: '',\n      password: '',\n      showPassword: false,\n      onClick: false,\n      USERB: null,\n      UserArray: [],\n\n    };\n  },\n    mounted() {\n        this.checkLogin();\n      this.getUsersBase();\n\n    },\n  methods: {\n      checkLogin(){\n          if (this.$store.state.ifLogin === true)\n              this.$router.push('/login/profile');\n\n      },\n    getUsersBase() {\n        axios.get('/api/client/',\n          {\n              headers: {\"X-CSRFTOKEN\": CSRF_TOKEN}\n          }\n      ).then(response => {\n            this.UserArray = response.data;\n        })\n    },\n    logging() {\n      this.$router.push('/login/profile');\n    },\n      checkUser() {\n\n        for( let i = 0; i < this.UserArray.length; i += 1){\n            if (this.logins === this.UserArray[i].login) {\n                if (this.password === this.UserArray[i].haslo) {\n                    const user = {\n                        login: this.UserArray[i].login,\n                        id: this.UserArray[i].klient_id,\n                        email: this.UserArray[i].email,\n                        punkty: 0,\n                    };\n                    this.$store.commit('setUser', user);\n                    this.logging();\n                }\n            }\n\n        }\n      }\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n"]}]}