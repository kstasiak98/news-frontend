{"remainingRequest":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\src\\components\\seanse\\SallPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\src\\components\\seanse\\SallPage.vue","mtime":1591626312516},{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\kino_small\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRnBUb2dnbGUgZnJvbSAiQC9GUGNvbXBvbmVudHMvRnBUb2dnbGUudnVlIjsNCmltcG9ydCB7YXBpU2VydmljZX0gZnJvbSAiQC9jb21tb24vYXBpLnNlcnZpY2UiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTYWxsUGFnZSIsDQogIGNvbXBvbmVudHM6IHsgRnBUb2dnbGUgfSwNCiAgcHJvcHM6IFsiU2FsYSIsICJTZWFucyIsICJTZWFuc0lEbmV3IiwgIlJlc2VydmVkX3RhYmVsIl0sDQogIGRhdGE6ICgpID0+ICh7DQogICAgdGFiZWxfY2hvZXNlbl9zZWF0czogW10sDQogICAgICBzYWxsOiBbXSwNCiAgICAgIGZpbG06IFtdLA0KICAgICAgdGlja2V0czE6IFtdLA0KICB9KSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldEZpbG0oKTsNCiAgICB0aGlzLmdldFNhbGwoKTsNCiAgICAgIHRoaXMuTWFrZUFycmF5KCk7DQoNCiAgICAgIC8vIHRoaXMuTWFrZU5ld0FycmF5KCk7DQogIH0sDQogICAgd2F0Y2g6IHsNCiAgICAgIFNlYW5zSURuZXc6IHsNCiAgICAgICAgICBkZWVwOiB0cnVlLA0KICAgICAgICAgIGhhbmRsZXIoKSB7DQogICAgICAgICAgICAgIHRoaXMuZ2V0RmlsbSgpOw0KICAgICAgICAgICAgICB0aGlzLmdldFNhbGwoKTsNCiAgICAgICAgICB9DQogICAgICB9DQogICAgfSwNCg0KDQogIG1ldGhvZHM6IHsNCiAgICAgIGdldEZpbG0oKSB7DQogICAgICAgICAgbGV0IGVuZHBvaW50ID0gYGFwaS9maWxtcy8ke3RoaXMuU2VhbnNJRG5ldy5zZWFuc19maWxtfS9gOw0KICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpDQogICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy5maWxtID0gZGF0YTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICBnZXRTYWxsKCkgew0KICAgICAgICAgIGxldCBlbmRwb2ludCA9IGBhcGkvc2FsbC8ke3RoaXMuU2VhbnNJRG5ldy5zZWFuc19zYWxsfS9gOw0KICAgICAgICAgIGNvbnNvbGUubG9nKGVuZHBvaW50KQ0KICAgICAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpDQogICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy5zYWxsID0gZGF0YTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgIH0sDQoNCg0KDQogICAgTWFrZUFycmF5KCkgew0KICAgICAgdGhpcy50YWJlbF9jaG9lc2VuX3NlYXRzID0gbmV3IEFycmF5KHRoaXMuU2FsYS5yb3dzKTsNCiAgICB9LA0KICAgICAgbWFrZVJlc2VydmVQbGFjZXMoKSB7DQoNCiAgICAgIH0sDQogICAgICAvLyBNYWtlTmV3QXJyYXkoKSB7DQogICAgICAvLyAgICAgdGhpcy50YWJlbF9jaG9lc2VuX3NlYXRzID0gbmV3IEFycmF5KHRoaXMuc2FsbC5udW1iZXJfb2Zfcm93cyk7DQogICAgICAvLyB9LA0KICAgIGdldF9sZXR0ZXJfYnlfaWQoaWQpIHsNCiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaWQpOw0KICAgIH0sDQogICAgc2hvd1RhYmxlKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy50YWJlbF9jaG9lc2VuX3NlYXRzKTsNCiAgICB9LA0KICAgIFNldFRhYmxlKGUsIHkpIHsNCiAgICAgIGxldCBuZXdBcnJheSA9IG5ldyBBcnJheSgpOw0KICAgICAgbmV3QXJyYXkgPSB0aGlzLnRhYmVsX2Nob2VzZW5fc2VhdHM7DQogICAgICBsZXQgcm93ID0geS5jaGFyQ29kZUF0KCk7DQogICAgICByb3cgPSByb3cgLSA2NTsNCiAgICAgIG5ld0FycmF5W3Jvd10gPSB7IG1pZWpzY2E6IGUgfTsNCiAgICAgIHRoaXMudGFiZWxfY2hvZXNlbl9zZWF0cyA9IG5ld0FycmF5Ow0KICAgIH0sDQogICAgQWRkVGlja2V0KCkgew0KICAgICAgY29uc3QgbmV3VGlja2V0ID0gew0KICAgICAgICBzZWFuczogdGhpcy5TZWFuc0lEbmV3LA0KICAgICAgICAgIGZpbG1fbmFtZTogdGhpcy5maWxtLnRpdGxlLA0KICAgICAgICBtaWVqc2NhOiB0aGlzLnRhYmVsX2Nob2VzZW5fc2VhdHMNCiAgICAgIH07DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFkZFRpY2tldFRvQ2FydCIsIG5ld1RpY2tldCk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6ICIvdGlja2V0Ig0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["SallPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SallPage.vue","sourceRoot":"src/components/seanse","sourcesContent":["<template>\r\n  <v-container>\r\n    Wybrany seans: {{SeansIDnew}}\r\n    Wybrany film: {{film}}\r\n    wybrana sala: {{sall}}\r\n    {{SeansIDnew.seans_film}}\r\n\r\n    Miejsca zarezerwowane: {{Reserved_tabel}}\r\n\r\n<!--    {{ Seans }}-->\r\n    <v-row align-content=\"center\" justify=\"center\">\r\n      <v-card align=\"center\" class=\"pa-2\">\r\n        <div class=\"rectangle\">EKRAN</div>\r\n        <v-layout v-for=\"Row in sall.number_of_rows\" :key=\"Row\">\r\n          <FpToggle\r\n            :lay=\"get_letter_by_id(Row - 1)\"\r\n            :places=\"sall.number_of_columns\"\r\n            @bind_methods=\"SetTable\"\r\n            :reserved=\"Reserved_tabel\"\r\n          ></FpToggle>\r\n        </v-layout>\r\n<!--        <v-btn @click=\"showTable\">CHECK</v-btn>-->\r\n        <v-btn @click=\"AddTicket\">KUP BILETY</v-btn>\r\n      </v-card>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport FpToggle from \"@/FPcomponents/FpToggle.vue\";\r\nimport {apiService} from \"@/common/api.service\";\r\n\r\nexport default {\r\n  name: \"SallPage\",\r\n  components: { FpToggle },\r\n  props: [\"Sala\", \"Seans\", \"SeansIDnew\", \"Reserved_tabel\"],\r\n  data: () => ({\r\n    tabel_choesen_seats: [],\r\n      sall: [],\r\n      film: [],\r\n      tickets1: [],\r\n  }),\r\n  mounted() {\r\n    this.getFilm();\r\n    this.getSall();\r\n      this.MakeArray();\r\n\r\n      // this.MakeNewArray();\r\n  },\r\n    watch: {\r\n      SeansIDnew: {\r\n          deep: true,\r\n          handler() {\r\n              this.getFilm();\r\n              this.getSall();\r\n          }\r\n      }\r\n    },\r\n\r\n\r\n  methods: {\r\n      getFilm() {\r\n          let endpoint = `api/films/${this.SeansIDnew.seans_film}/`;\r\n          apiService(endpoint)\r\n              .then(data => {\r\n                  this.film = data;\r\n              })\r\n      },\r\n      getSall() {\r\n          let endpoint = `api/sall/${this.SeansIDnew.seans_sall}/`;\r\n          console.log(endpoint)\r\n          apiService(endpoint)\r\n              .then(data => {\r\n                  this.sall = data;\r\n              })\r\n      },\r\n\r\n\r\n\r\n    MakeArray() {\r\n      this.tabel_choesen_seats = new Array(this.Sala.rows);\r\n    },\r\n      makeReservePlaces() {\r\n\r\n      },\r\n      // MakeNewArray() {\r\n      //     this.tabel_choesen_seats = new Array(this.sall.number_of_rows);\r\n      // },\r\n    get_letter_by_id(id) {\r\n      return String.fromCharCode(65 + id);\r\n    },\r\n    showTable() {\r\n      console.log(this.tabel_choesen_seats);\r\n    },\r\n    SetTable(e, y) {\r\n      let newArray = new Array();\r\n      newArray = this.tabel_choesen_seats;\r\n      let row = y.charCodeAt();\r\n      row = row - 65;\r\n      newArray[row] = { miejsca: e };\r\n      this.tabel_choesen_seats = newArray;\r\n    },\r\n    AddTicket() {\r\n      const newTicket = {\r\n        seans: this.SeansIDnew,\r\n          film_name: this.film.title,\r\n        miejsca: this.tabel_choesen_seats\r\n      };\r\n      this.$store.commit(\"addTicketToCart\", newTicket);\r\n      this.$router.push({\r\n        path: \"/ticket\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.rectangle {\r\n  width: 60%;\r\n  background-color: lightgrey;\r\n  text-align: center;\r\n  margin: auto;\r\n}\r\n</style>\r\n"]}]}