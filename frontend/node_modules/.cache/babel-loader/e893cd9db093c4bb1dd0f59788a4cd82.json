{"remainingRequest":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\src\\components\\seanse\\SallPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\src\\components\\seanse\\SallPage.vue","mtime":1592142510225},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\krzys\\PycharmProjects\\mysqlconnection\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRnBUb2dnbGUgZnJvbSAiQC9GUGNvbXBvbmVudHMvRnBUb2dnbGUudnVlIjsKaW1wb3J0IHsgYXBpU2VydmljZSB9IGZyb20gIkAvY29tbW9uL2FwaS5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTYWxsUGFnZSIsCiAgY29tcG9uZW50czogewogICAgRnBUb2dnbGU6IEZwVG9nZ2xlCiAgfSwKICBwcm9wczogWyJTYWxhIiwgIlNlYW5zIiwgIlNlYW5zSURuZXciXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiZWxfY2hvZXNlbl9zZWF0czogW10sCiAgICAgIHNhbGw6IFtdLAogICAgICBmaWxtOiBbXSwKICAgICAgdGlja2V0czE6IFtdLAogICAgICBSZXNlcnZlZF90YWJlbDogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRGaWxtKCk7CiAgICB0aGlzLmdldFNhbGwoKTsKICAgIHRoaXMuTWFrZUFycmF5KCk7CiAgICB0aGlzLmdldFJlc2VydmVkVGFibGUoKTsgLy8gdGhpcy5NYWtlTmV3QXJyYXkoKTsKICB9LAogIHdhdGNoOiB7CiAgICBTZWFuc0lEbmV3OiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy5nZXRGaWxtKCk7CiAgICAgICAgdGhpcy5nZXRTYWxsKCk7CiAgICAgICAgdGhpcy5nZXRSZXNlcnZlZFRhYmxlKCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbG06IGZ1bmN0aW9uIGdldEZpbG0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZW5kcG9pbnQgPSAiYXBpL2ZpbG1zLyIuY29uY2F0KHRoaXMuU2VhbnNJRG5ldy5maWxtLCAiLyIpOwogICAgICBhcGlTZXJ2aWNlKGVuZHBvaW50KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMuZmlsbSA9IGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFNhbGw6IGZ1bmN0aW9uIGdldFNhbGwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gImFwaS9zYWxsLyIuY29uY2F0KHRoaXMuU2VhbnNJRG5ldy5zYWxhLCAiLyIpOwogICAgICBjb25zb2xlLmxvZyhlbmRwb2ludCk7CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBfdGhpczIuc2FsbCA9IGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJlc2VydmVkVGFibGU6IGZ1bmN0aW9uIGdldFJlc2VydmVkVGFibGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGVuZHBvaW50ID0gImFwaS9yZXNlcnZlZC8iOwogICAgICB2YXIgcmVzZXJ2ZWRzID0gW107CiAgICAgIGFwaVNlcnZpY2UoZW5kcG9pbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHBsYWNlKSB7CiAgICAgICAgICBpZiAocGxhY2Uuc2VhbnMgPT09IF90aGlzMy5TZWFuc0lEbmV3LnNlYW5zX2lkKSB7CiAgICAgICAgICAgIHZhciB4ID0gcGxhY2UuYWRyZXNfbWllanNjYS5zcGxpdCgiLSIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgICAgICAgcmVzZXJ2ZWRzLnB1c2goewogICAgICAgICAgICAgIHJvdzogeFswXSwKICAgICAgICAgICAgICBjb2x1bW46IHBhcnNlSW50KHhbMV0pCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIF90aGlzMy5SZXNlcnZlZF90YWJlbCA9IHJlc2VydmVkczsKICAgICAgfSk7CiAgICB9LAogICAgTWFrZUFycmF5OiBmdW5jdGlvbiBNYWtlQXJyYXkoKSB7CiAgICAgIHRoaXMudGFiZWxfY2hvZXNlbl9zZWF0cyA9IG5ldyBBcnJheSh0aGlzLlNhbGEucm93cyk7CiAgICB9LAogICAgbWFrZVJlc2VydmVQbGFjZXM6IGZ1bmN0aW9uIG1ha2VSZXNlcnZlUGxhY2VzKCkge30sCiAgICAvLyBNYWtlTmV3QXJyYXkoKSB7CiAgICAvLyAgICAgdGhpcy50YWJlbF9jaG9lc2VuX3NlYXRzID0gbmV3IEFycmF5KHRoaXMuc2FsbC5udW1iZXJfb2Zfcm93cyk7CiAgICAvLyB9LAogICAgZ2V0X2xldHRlcl9ieV9pZDogZnVuY3Rpb24gZ2V0X2xldHRlcl9ieV9pZChpZCkgewogICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGlkKTsKICAgIH0sCiAgICBzaG93VGFibGU6IGZ1bmN0aW9uIHNob3dUYWJsZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy50YWJlbF9jaG9lc2VuX3NlYXRzKTsKICAgIH0sCiAgICBTZXRUYWJsZTogZnVuY3Rpb24gU2V0VGFibGUoZSwgeSkgewogICAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkoKTsKICAgICAgbmV3QXJyYXkgPSB0aGlzLnRhYmVsX2Nob2VzZW5fc2VhdHM7CiAgICAgIHZhciByb3cgPSB5LmNoYXJDb2RlQXQoKTsKICAgICAgcm93ID0gcm93IC0gNjU7CiAgICAgIG5ld0FycmF5W3Jvd10gPSB7CiAgICAgICAgbWllanNjYTogZQogICAgICB9OwogICAgICB0aGlzLnRhYmVsX2Nob2VzZW5fc2VhdHMgPSBuZXdBcnJheTsKICAgIH0sCiAgICBBZGRUaWNrZXQ6IGZ1bmN0aW9uIEFkZFRpY2tldCgpIHsKICAgICAgdmFyIG5ld1RpY2tldCA9IHsKICAgICAgICBzZWFuczogdGhpcy5TZWFuc0lEbmV3LAogICAgICAgIGZpbG1fbmFtZTogdGhpcy5maWxtLnRpdGxlLAogICAgICAgIG1pZWpzY2E6IHRoaXMudGFiZWxfY2hvZXNlbl9zZWF0cwogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFkZFRpY2tldFRvQ2FydCIsIG5ld1RpY2tldCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3RpY2tldCIKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SallPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-container>\r\n    Wybrany seans: {{ SeansIDnew }} <br />\r\n    Wybrany film: {{ film }}<br />\r\n    wybrana sala: {{ sall }}<br />\r\n    {{ SeansIDnew.seans_id }}<br />\r\n\r\n    Miejsca zarezerwowane: {{ Reserved_tabel }}\r\n\r\n    <!--    {{ Seans }}-->\r\n    <v-row align-content=\"center\" justify=\"center\">\r\n      <v-card align=\"center\" class=\"pa-2\">\r\n        <div class=\"rectangle\">EKRAN</div>\r\n        <template v-if=\"Reserved_tabel\">\r\n          <v-layout v-for=\"Row in sall.liczba_rzedow\" :key=\"Row\">\r\n            <FpToggle\r\n              :lay=\"get_letter_by_id(Row - 1)\"\r\n              :places=\"sall.liczba_kolumn\"\r\n              @bind_methods=\"SetTable\"\r\n              :reserved=\"Reserved_tabel\"\r\n            ></FpToggle>\r\n          </v-layout>\r\n        </template>\r\n        <!--        <v-btn @click=\"showTable\">CHECK</v-btn>-->\r\n        <v-btn @click=\"AddTicket\">KUP BILETY</v-btn>\r\n      </v-card>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport FpToggle from \"@/FPcomponents/FpToggle.vue\";\r\nimport { apiService } from \"@/common/api.service\";\r\n\r\nexport default {\r\n  name: \"SallPage\",\r\n  components: { FpToggle },\r\n  props: [\"Sala\", \"Seans\", \"SeansIDnew\"],\r\n  data: () => ({\r\n    tabel_choesen_seats: [],\r\n    sall: [],\r\n    film: [],\r\n    tickets1: [],\r\n    Reserved_tabel: []\r\n  }),\r\n  mounted() {\r\n    this.getFilm();\r\n    this.getSall();\r\n    this.MakeArray();\r\n    this.getReservedTable();\r\n\r\n    // this.MakeNewArray();\r\n  },\r\n  watch: {\r\n    SeansIDnew: {\r\n      deep: true,\r\n      handler() {\r\n        this.getFilm();\r\n        this.getSall();\r\n        this.getReservedTable();\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getFilm() {\r\n      let endpoint = `api/films/${this.SeansIDnew.film}/`;\r\n      apiService(endpoint).then(data => {\r\n        this.film = data;\r\n      });\r\n    },\r\n    getSall() {\r\n      let endpoint = `api/sall/${this.SeansIDnew.sala}/`;\r\n      console.log(endpoint);\r\n      apiService(endpoint).then(data => {\r\n        this.sall = data;\r\n      });\r\n    },\r\n    getReservedTable() {\r\n      let endpoint = `api/reserved/`;\r\n      let reserveds = [];\r\n      apiService(endpoint).then(data => {\r\n        data.forEach(place => {\r\n          if (place.seans === this.SeansIDnew.seans_id) {\r\n            const x = place.adres_miejsca.split(\"-\");\r\n            console.log(x);\r\n            reserveds.push({ row: x[0], column: parseInt(x[1]) });\r\n          }\r\n        });\r\n        this.Reserved_tabel = reserveds;\r\n      });\r\n    },\r\n\r\n    MakeArray() {\r\n      this.tabel_choesen_seats = new Array(this.Sala.rows);\r\n    },\r\n    makeReservePlaces() {},\r\n    // MakeNewArray() {\r\n    //     this.tabel_choesen_seats = new Array(this.sall.number_of_rows);\r\n    // },\r\n    get_letter_by_id(id) {\r\n      return String.fromCharCode(65 + id);\r\n    },\r\n    showTable() {\r\n      console.log(this.tabel_choesen_seats);\r\n    },\r\n    SetTable(e, y) {\r\n      let newArray = new Array();\r\n      newArray = this.tabel_choesen_seats;\r\n      let row = y.charCodeAt();\r\n      row = row - 65;\r\n      newArray[row] = { miejsca: e };\r\n      this.tabel_choesen_seats = newArray;\r\n    },\r\n    AddTicket() {\r\n      const newTicket = {\r\n        seans: this.SeansIDnew,\r\n        film_name: this.film.title,\r\n        miejsca: this.tabel_choesen_seats\r\n      };\r\n      this.$store.commit(\"addTicketToCart\", newTicket);\r\n      this.$router.push({\r\n        path: \"/ticket\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.rectangle {\r\n  width: 60%;\r\n  background-color: lightgrey;\r\n  text-align: center;\r\n  margin: auto;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/seanse"}]}